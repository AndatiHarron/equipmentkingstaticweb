<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trucks - Equipment King</title>
  <link rel="stylesheet" href="css/styles.css" />
  <script src="js/header-footer-loader.js"></script>
  <style>
    /* POPUP + GALLERY STYLES (added) */
    :root{
      --overlay-bg: rgba(0,0,0,0.6);
      --popup-radius: 12px;
      --popup-max-width: 1480px;
      --thumb-size: 72px;
      --thumb-gap: 8px;
    }
    /* === MAGNIFYING LENS SHARED STYLE === */
.magnifier-lens {
  position: absolute;
  border: 2px solid rgba(255, 255, 255, 0.8);
  border-radius: 50%;
  cursor: none;
  width: 120px;
  height: 120px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 200%;
  pointer-events: none;
  display: none;
  z-index: 20;
}


    /* make sure popups sit above everything */
    .ek-popup-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: var(--overlay-bg);
      z-index: 9999;
      padding: 24px;
      box-sizing: border-box;
      /* subtle fade */
      opacity: 0;
      transition: opacity .22s ease;
      -webkit-backdrop-filter: blur(6px);
      backdrop-filter: blur(6px);
    }

    .ek-popup-overlay.open {
      display: flex;
      opacity: 1;
    }

    .ek-popup {
      width: 100%;
      max-width: var(--popup-max-width);
      background: #fff;
      border-radius: var(--popup-radius);
      box-shadow: 0 18px 40px rgba(0,0,0,0.35);
      overflow: hidden;
      transform: translateY(6px);
      transition: transform .18s ease;
      max-height: calc(100vh - 80px);
      display: flex;
      flex-direction: column;
    }

    .ek-popup.open { transform: translateY(0); }

    .ek-popup-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      border-bottom: 1px solid #eee;
      background: linear-gradient(180deg,#fff,#fafafa);
    }

    .ek-popup-title {
      font-size: 18px;
      font-weight: 700;
      color: #111;
    }

    .ek-popup-close {
      font-size: 22px;
      line-height: 1;
      width: 36px;
      height: 36px;
      display: inline-grid;
      place-items: center;
      border-radius: 8px;
      cursor: pointer;
      border: none;
      background: transparent;
    }
    .ek-popup-close:hover { background: rgba(0,0,0,0.06); }

    .ek-popup-body {
      overflow: auto;
      padding: 16px;
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 18px;
      box-sizing: border-box;
    }

    /* left column: main image + thumbs */
    .ek-gallery {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .ek-main-image {
      width: 100%;
      background: #f5f5f5;
      border-radius: 10px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 320px;
    }

    .ek-main-image img {
      max-width: 100%;
      max-height: 72vh;
      object-fit: contain;
      display: block;
    }

    .ek-thumb-strip {
      display: flex;
      gap: var(--thumb-gap);
      align-items: center;
      overflow-x: auto;
      padding-bottom: 6px;
    }
    .ek-thumb {
      flex: 0 0 auto;
      width: var(--thumb-size);
      height: var(--thumb-size);
      border-radius: 8px;
      overflow: hidden;
      border: 2px solid transparent;
      cursor: pointer;
      display: inline-block;
      box-sizing: border-box;
    }
    .ek-thumb img { width: 100%; height: 100%; object-fit: cover; display: block; }
    .ek-thumb.active { border-color: #2b6cb0; box-shadow: 0 4px 10px rgba(43,108,176,0.12); }

    /* right column: details */
    .ek-details {
      padding: 6px 6px 6px 0;
      display: flex;
      flex-direction: column;
      gap: 12px;
      min-width: 220px;
    }

    .ek-details .specs {
      background: #fafafa;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #f0f0f0;
      font-size: 14px;
    }

    .ek-details h3 { margin: 0 0 6px 0; font-size: 16px; }
    .ek-details p { margin: 0; font-size: 14px; color: #333; line-height: 1.35; }

    .ek-details .desc {
      max-height: 54vh;
      overflow: auto;
      padding-right: 6px;
    }

    .ek-details .thumbs-note {
      font-size: 12px;
      color: #666;
    }

    /* responsive */
    @media (max-width: 980px) {
      .ek-popup-body {
        grid-template-columns: 1fr;
      }
      .ek-details { order: 2; }
    }

    /* blur body when active */
    body.ek-blur > *:not(.ek-popup-overlay) {
      filter: blur(6px) saturate(.96);
      pointer-events: none;
      user-select: none;
    }

    /* keep overlay children interactive */
    .ek-popup-overlay * { pointer-events: auto; }

    /* small niceties */
    .ek-spec-list { list-style: none; padding: 0; margin: 0; display: grid; gap: 6px; font-size: 14px; }
    .ek-spec-list li { display:flex; gap:8px; align-items:flex-start; }
    .ek-spec-key { font-weight:700; color:#222; min-width:98px; }
    .ek-popup-footer { padding: 12px 16px; border-top: 1px solid #eee; display:flex; justify-content:flex-end; gap:8px; }
    .ek-btn { padding:8px 12px; border-radius:8px; border:1px solid #ddd; background:#fff; cursor:pointer; font-size:13px; }
    .ek-btn.primary { background:#2b6cb0; color:#fff; border-color:#2b6cb0; }

    /* scrollbar cleanup for thumbs */
    .ek-thumb-strip::-webkit-scrollbar { height:8px; }
    .ek-thumb-strip::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius:6px; }
  </style>
</head>
<body>
    <div id="header-placeholder"></div>
    

  <h1>Truck Categories and Models</h1>

  <div class="controls-container" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; gap: 1rem;">
    <div class="category-buttons">
      <button data-category="all" class="active">All</button>
      <button data-category="light-duty" >Light Duty Trucks</button>
      <button data-category="medium-duty">Medium Duty Trucks</button>
      <button data-category="heavy-duty" >Heavy Duty Trucks</button>
    </div>
    
    <input type="text" id="searchInput" placeholder="Search trucks..." style="width: 300px; max-width: 300px;" />
  </div>

  <!-- Light Duty Trucks -->
  <section class="category-section" data-category="light-duty">
  
    <h2 class="headings" id="ldt">Light Duty Trucks</h2>
    

    <div class="series">
      <div class="series-title">X9</div>
      <div class="truck-grid">
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x94x4dumptrucks/Screenshot 2025-11-04 235942.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X9 Tow Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x9aerialplatformtrucks/Screenshot 2025-11-04 230412.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X9 Aerial Work Platform Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x94x4dumptrucks/Screenshot 2025-11-04 235942.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X9 4X4 Dump Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x9dumptrucks/Screenshot 2025-11-04 230617.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X9 Dump Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x9vantrucks/Screenshot 2025-11-04 230715.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X9 Van Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x9fueltankertrucks/Screenshot 2025-11-04 231642.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X9 Fuel Tanker Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x9garbagetrucks/Screenshot 2025-11-04 231541.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X9 Garbage Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x9refrigeratedtrucks/Screenshot 2025-11-04 232329.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X9 Refrigerated Truck</div></div>
      </div>
    </div>

    <div class="series">
      <div class="series-title">E9</div>
      <div class="truck-grid">
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e9refrigeratedtrucks/Screenshot 2025-11-04 231846.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E9 Refrigerated Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e9dumptruck/Screenshot 2025-11-04 232141.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E9 Dump Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e9vantrucks/Screenshot 2025-11-04 234940.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E9 Van Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e9kitchenwastefoodgarbagetrucks/Screenshot 2025-11-04 234723.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E9 Kitchen Waste Garbage Truck</div></div>
      </div>
    </div>

    <div class="series">
      <div class="series-title">X7</div>
      <div class="truck-grid">
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x7concretemixertrucks/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X7 Concrete Mixer Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x7flatbedtrucks/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X7 Flatbed Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x7sprinklertrucks/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X7 Sprinkler Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x7truckmountedcrane/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X7 Truck Mounted Crane</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x7dumptrucks/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X7 Dump Truck</div></div>
        
      </div>
    </div>

    <div class="series">
      <div class="series-title" id="i9">i9 (New Series)</div>
      <div class="truck-grid">
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/i9/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">i9 (New Series)</div></div>
      </div>
    </div>
  </section>

  <!-- Medium Duty Trucks -->
  <section class="category-section" data-category="medium-duty">
    <h2 class="headings"  id="mdt">Medium Duty Trucks</h2>

    <div class="series">
      <div class="series-title">E6</div>
      <div class="truck-grid">
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e6dumptrucks/Screenshot 2025-11-05 011157.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E6 Dump Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e6staketrucks/Screenshot 2025-11-05 011655.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E6 Stake Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e6vantrucks/Screenshot 2025-11-05 011018.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E6 Van Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e6refrigeratedtruck/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E6 Refrigerated Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e6sprinklertrucks/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E6 Sprinkler Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e6truckmountedcrane/mai.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E6 Truck Mounted Crane</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/e6cementmixertrucks/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E6 Cement Mixer Truck</div></div>
      </div>
    </div>

    <div class="series">
      <div class="series-title">X6</div>
      <div class="truck-grid">
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6dumptrucks/Screenshot 2025-11-05 001416.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Dump Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6flatbeds/Screenshot 2025-11-05 002252.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Flatbed Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/van.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Van Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6truckmountedcranes/Screenshot 2025-11-05 000857.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Truck Mounted Crane</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6cargotrucks/Screenshot 2025-11-05 001000.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Cargo Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6awdcargotrucks/Screenshot 2025-11-05 001032.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 AWD Cargo Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6dropsidetrucks/Screenshot 2025-11-05 001655.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Dropside Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6cementmixertsucks/Screenshot 2025-11-05 001748.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Cement Mixer Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6concretemixertrucks/Screenshot 2025-11-05 002457.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Concrete Mixer Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6loadingcranerecoverytruck/Screenshot 2025-11-05 001917.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Loading Crane Recovery Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6sprinklertrucks/main.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Sprinkler Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6dustsuppressiontrucks/Screenshot 2025-11-05 002138.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Dust Suppression Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6garbagetrucks/Screenshot 2025-11-05 002355.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Garbage Truck</div></div>
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/x6fueltanker/Screenshot 2025-11-05 024749.webp"><div class="magnifier-lens"></div></div><div class="truck-name">X6 Fuel Tanker Truck</div></div>
      </div>
    </div>
  </section>

  <!-- Heavy Duty Trucks -->
  <section class="category-section" data-category="heavy-duty">
    <h2 class="headings" id="hdt">Heavy Duty Trucks</h2>

    <div class="series">
      <div class="series-title">Z3</div>
      <div class="truck-grid">
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/Additional Trucks/Z3 Tractor Truck/Screenshot 2025-11-05 140111.webp"><div class="magnifier-lens"></div></div><div class="truck-name">Z3 Dump Truck</div></div>
      </div>
    </div>

    <div class="series">
      <div class="series-title">E1st</div>
      <div class="truck-grid">
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/e1st.webp"><div class="magnifier-lens"></div></div><div class="truck-name">E1st Tractor</div></div>
      </div>
    </div>

    <div class="series">
      <div class="series-title">E3</div>
      <div class="truck-grid">
  <div class="truck-tile" onclick="">
    <div class="truck-image"><img src="assets/trucks/Additional Trucks/E3 Muck Truck/Screenshot 2025-11-05 134950.webp"><div class="magnifier-lens"></div></div>
    <div class="truck-name">E3 muck truck</div>
  </div>
  <div class="truck-tile" onclick="">
    <div class="truck-image"><img src="assets/trucks/Additional Trucks/E3 Tractor Truck/Screenshot 2025-11-05 135943.webp"><div class="magnifier-lens"></div></div>
    <div class="truck-name">E3 Tractor truck</div>
  </div>
  <div class="truck-tile" onclick="">
    <div class="truck-image"><img src="assets/trucks/Additional Trucks/E3 Van Truck/Screenshot 2025-11-05 135624.webp"><div class="magnifier-lens"></div></div>
    <div class="truck-name">E3 vantruck.</div>
  </div>
  <div class="truck-tile" onclick="">
    <div class="truck-image"><img src="assets/trucks/Additional Trucks/E3 Dump Truck/main.webp"><div class="magnifier-lens"></div></div>
    <div class="truck-name">E3 Dumptruck.</div>
  </div>
  <div class="truck-tile" onclick="">
    <div class="truck-image"><img src="assets/trucks/Additional Trucks/E3 cement mixer trucks/Screenshot 2025-11-05 143029.webp"><div class="magnifier-lens"></div></div>
    <div class="truck-name">E3 Cement mixertruck.</div>
  </div>
  <div class="truck-tile" onclick="">
    <div class="truck-image"><img src="assets/trucks/Additional Trucks/E6 compactor garbage trucks/Screenshot 2025-11-05 143235.webp"><div class="magnifier-lens"></div></div>
    <div class="truck-name">E3 compactor Garbage Track.</div>
  </div>
  <div class="truck-tile" onclick="">
    <div class="truck-image"><img src="assets/trucks/Additional Trucks/E3 Stake Truck/Screenshot 2025-11-05 140225.webp"><div class="magnifier-lens"></div></div>
    <div class="truck-name">E3 Stake truck.</div>
  </div>
  <div class="truck-tile" onclick="">
    <div class="truck-image"><img src="assets/trucks/Additional Trucks/E3 Sewage Suction Truck/Screenshot 2025-11-05 134017.webp"><div class="magnifier-lens"></div></div>
    <div class="truck-name">E3 sewage suction truck.</div>
  </div>
</div>

    </div>

    <div class="series">
  <div class="series-title">9 Series</div>
  <div class="truck-grid">
    <div class="truck-tile" onclick="">
      <div class="truck-image"><img src="assets/trucks/Additional Trucks/9 Series Sweeper/Screenshot 2025-11-05 132520.webp"><div class="magnifier-lens"></div></div>
      <div class="truck-name">9 series sweeper</div>
    </div>
    <div class="truck-tile" onclick="">
      <div class="truck-image"><img src="assets/trucks/Additional Trucks/9Series Garbage Truck/Screenshot 2025-11-05 133259.webp"><div class="magnifier-lens"></div></div>
      <div class="truck-name">9 series Garbage Truck</div>
    </div>
    <div class="truck-tile" onclick="">
      <div class="truck-image"><img src="assets/trucks/Additional Trucks/9 Series Tow Truck/Screenshot 2025-11-05 133547.webp"><div class="magnifier-lens"></div></div>
      <div class="truck-name">9 series Tow Truck</div>
    </div>
    <div class="truck-tile" onclick="">
      <div class="truck-image"><img src="assets/trucks/Additional Trucks/6 series truck mounted crane/Screenshot 2025-11-05 133720.webp"><div class="magnifier-lens"></div></div>
      <div class="truck-name">9 series Truckmounted crane.</div>
    </div>
    <div class="truck-tile" onclick="">
      <div class="truck-image"><img src="assets/trucks/Additional Trucks/9 Series Cement Mixer Truck/Screenshot 2025-11-05 133830.webp"><div class="magnifier-lens"></div></div>
      <div class="truck-name">9series cement mixer truck</div>
    </div>
  </div>
</div>


    <div class="series">
  <div class="series-title">6 Series</div>
  <div class="truck-grid">
    <div class="truck-tile" onclick="">
      <div class="truck-image"><img src="assets/trucks/Additional Trucks/6Series Sweeper/Screenshot 2025-11-05 132454.webp"><div class="magnifier-lens"></div></div>
      <div class="truck-name">6 series sweeper</div>
    </div>
    <div class="truck-tile" onclick="">
      <div class="truck-image"><img src="assets/trucks/Additional Trucks/6 Series Garbage Trucks/Screenshot 2025-11-05 133323.webp"><div class="magnifier-lens"></div></div>
      <div class="truck-name">6 Series Garbage Truck</div>
    </div>
    <div class="truck-tile" onclick="">
      <div class="truck-image"><img src="assets/trucks/Additional Trucks/6 series truck mounted crane/Screenshot 2025-11-05 133720.webp"><div class="magnifier-lens"></div></div>
      <div class="truck-name">6 Series truckmounted Crane</div>
    </div>
    <div class="truck-tile" onclick="">
      <div class="truck-image"><img src="assets/trucks/Additional Trucks/6 series cement mixer trucks/Screenshot 2025-11-05 142913.webp"><div class="magnifier-lens"></div></div>
      <div class="truck-name">6 series cement mixer truck.</div>
    </div>
    
  </div>
</div>


    <div class="series">
      <div class="series-title">3 Series</div>
      <div class="truck-grid">
        <div class="truck-tile" onclick=""><div class="truck-image"><img src="assets/trucks/Additional Trucks/3 series truck mounted crane/Screenshot 2025-11-05 133743.webp"><div class="magnifier-lens"></div></div><div class="truck-name">3 Series Cement Mixer Truck</div></div>
      </div>
    </div>

  </section>

  <script>
    // Scroll reveal effect for truck tiles (kept as-is)
    const tiles = document.querySelectorAll('.truck-tile');

    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target); // once revealed, don't re-check
        }
      });
    }, { threshold: 0.15 });

    tiles.forEach(tile => observer.observe(tile));

    // Search and filter functionality (kept)
    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('keyup', () => {
      const term = searchInput.value.toLowerCase();
      document.querySelectorAll('.category-section').forEach(section => {
        let sectionText = section.querySelector('h2').textContent.toLowerCase();
        let anyMatch = false;

        section.querySelectorAll('.truck-tile').forEach(tile => {
          const name = tile.querySelector('.truck-name') ? tile.querySelector('.truck-name').textContent.toLowerCase() : '';
          const match = name.includes(term) || sectionText.includes(term);
          tile.style.display = match ? 'block' : 'none';
          if(match) anyMatch = true;
        });

        section.style.display = anyMatch ? 'block' : 'none';
      });
    });

    const categoryButtons = document.querySelectorAll('.category-buttons button');
    categoryButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        categoryButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const cat = btn.getAttribute('data-category');
        document.querySelectorAll('.category-section').forEach(section => {
          section.style.display = (cat === 'all' || section.getAttribute('data-category') === cat) ? 'block' : 'none';
        });
      });
    });



    // small helper to generate a simple sensible description and specs based on name keywords
    function generateDetails(name) {
      name = name || 'Truck';
      const key = name.toLowerCase();

      let role = 'Utility';
      let desc = `${name} â€” a reliable commercial vehicle suitable for diverse transport tasks.`;
      let specs = {
        'Engine': '4.2L Turbo Diesel',
        'Power': '180-260 hp',
        'Payload': '3,000 - 12,000 kg',
        'Transmission': '6-speed manual / 8-speed auto',
        'Features': 'ABS, Air Conditioning, Durable Chassis'
      };

      if (key.includes('tow')) {
        role = 'Tow / Recovery';
        desc = `${name} is built for recovery and towing operations with reinforced frame and heavy-duty winch compatibility.`;
        specs.Payload = 'Tow-rated chassis; up to 5-ton towing capacity';
      } else if (key.includes('dump')) {
        role = 'Dump / Haulage';
        desc = `${name} features a robust tipping body for efficient material offloading on construction and mining sites.`;
        specs.Payload = '5,000 - 20,000 kg';
      } else if (key.includes('refriger') || key.includes('cold') || key.includes('refrigerated')) {
        role = 'Refrigerated Transport';
        desc = `${name} provides temperature-controlled transport ideal for perishables with integrated refrigeration unit.`;
        specs.Payload = 'Insulated body; temperature range configurable';
        specs.Features = 'Temperature control, GPS tracking';
      } else if (key.includes('garbage') || key.includes('garbag') || key.includes('compactor')) {
        role = 'Waste Collection';
        desc = `${name} is engineered for urban waste collection with efficient compaction and easy loading systems.`;
        specs.Features = 'Hydraulic compaction, Rear/Side loader options';
      } else if (key.includes('tanker') || key.includes('fuel') || key.includes('tanker')) {
        role = 'Tanker';
        desc = `${name} is designed for secure liquid transport with multiple safety valves and compartmentalization.`;
        specs.Features = 'Anti-spill valves, compartmentalized tanks';
      } else if (key.includes('van')) {
        role = 'Van / Delivery';
        desc = `${name} is optimized for parcel and cargo delivery in both urban and rural settings.`;
        specs.Payload = '1,000 - 4,000 kg';
      } else if (key.includes('concrete') || key.includes('mixer')) {
        role = 'Concrete Mixer';
        desc = `${name} comes with a rotating drum and heavy-duty support structure for continuous concrete delivery.`;
        specs.Features = 'Rotating drum, hydraulic drive';
      } else if (key.includes('flatbed')) {
        role = 'Flatbed / Cargo';
        desc = `${name} provides a flat cargo bed for flexible loading of bulky items and equipment.`;
      } else if (key.includes('aerial') || key.includes('platform')) {
        role = 'Aerial Work Platform';
        desc = `${name} is fitted with extendable platforms for safe elevation of maintenance crews and tools.`;
        specs.Features = 'Extendable boom, safety locks';
      } else if (key.includes('sprinkler') || key.includes('dust') || key.includes('suppression')) {
        role = 'Water / Sprinkler';
        desc = `${name} is configured for municipal water spraying, street cleaning, and dust suppression tasks.`;
      } else if (key.includes('crane') || key.includes('truckmounted') || key.includes('mounted')) {
        role = 'Truck-mounted Crane';
        desc = `${name} includes a powered crane system for loading/unloading heavy items with precision.`;
        specs.Features = 'Stabilizers, hydraulic crane';
      } else if (key.includes('suction') || key.includes('sewage')) {
        role = 'Sewage / Suction';
        desc = `${name} is intended for sewage and liquid waste removal with high-capacity suction pumps.`;
        specs.Features = 'Vacuum pump, sealed tanks';
      } else if (key.includes('sweeper')) {
        role = 'Road Sweeper';
        desc = `${name} is for street sweeping and debris collection in urban environments.`;
      }

      // format description and specs
      return {
        title: name,
        role,
        desc,
        specs
      };
    }

    // mapping of truck directories to their image filenames
    const truckImagesMap = {
      'x9vantrucks': ['Screenshot 2025-11-04 230651.webp', 'Screenshot 2025-11-04 230704.webp', 'Screenshot 2025-11-04 230715.webp', 'Screenshot 2025-11-04 230735.webp', 'Screenshot 2025-11-04 230748.webp', 'Screenshot 2025-11-04 230803.webp', 'Screenshot 2025-11-04 230815.webp', 'Screenshot 2025-11-04 230828.webp'],
      'x9dumptrucks': ['Screenshot 2025-11-04 230617.webp', 'a.webp', 'b.webp', 'c.webp'],
      'x9refrigeratedtrucks': ['Screenshot 2025-11-04 232319.webp', 'Screenshot 2025-11-04 232329.webp', 'Screenshot 2025-11-04 232344.webp', 'Screenshot 2025-11-04 232354.webp', 'Screenshot 2025-11-04 232406.webp', 'Screenshot 2025-11-04 232416.webp', 'Screenshot 2025-11-04 232428.webp'],
      'x9garbagetrucks': ['Screenshot 2025-11-04 231454.webp', 'Screenshot 2025-11-04 231505.webp', 'Screenshot 2025-11-04 231519.webp', 'Screenshot 2025-11-04 231531.webp', 'Screenshot 2025-11-04 231541.webp', 'Screenshot 2025-11-04 231555.webp', 'Screenshot 2025-11-04 231608.webp'],
      'x9fueltankertrucks': ['Screenshot 2025-11-04 231642.webp', 'Screenshot 2025-11-04 231658.webp', 'Screenshot 2025-11-04 231712.webp', 'Screenshot 2025-11-04 231721.webp', 'Screenshot 2025-11-04 231731.webp'],
      'x9towtrucks': ['x9towtruck.webp'],
      'x9aerialplatformtrucks': ['Screenshot 2025-11-04 230412.webp'],
      'x94x4dumptrucks': ['Screenshot 2025-11-04 235942.webp'],
      'e9vantrucks': ['Screenshot 2025-11-04 234914.webp', 'Screenshot 2025-11-04 234931.webp', 'Screenshot 2025-11-04 234940.webp', 'Screenshot 2025-11-04 234949.webp', 'Screenshot 2025-11-04 235007.webp', 'Screenshot 2025-11-04 235014.webp', 'Screenshot 2025-11-04 235022.webp', 'Screenshot 2025-11-04 235036.webp', 'Screenshot 2025-11-04 235047.webp', 'Screenshot 2025-11-04 235057.webp', 'Screenshot 2025-11-04 235107.webp', 'Screenshot 2025-11-04 235117.webp', 'Screenshot 2025-11-04 235127.webp', 'Screenshot 2025-11-04 235316.webp'],
      'e9dumptruck': ['Screenshot 2025-11-04 232117.webp', 'Screenshot 2025-11-04 232132.webp', 'Screenshot 2025-11-04 232141.webp', 'Screenshot 2025-11-04 232151.webp', 'Screenshot 2025-11-04 232201.webp', 'Screenshot 2025-11-04 232211.webp', 'Screenshot 2025-11-04 232221.webp', 'Screenshot 2025-11-04 232234.webp', 'Screenshot 2025-11-04 232247.webp'],
      'e9refrigeratedtrucks': ['Screenshot 2025-11-04 231821.webp', 'Screenshot 2025-11-04 231834.webp', 'Screenshot 2025-11-04 231846.webp', 'Screenshot 2025-11-04 231856.webp', 'Screenshot 2025-11-04 231908.webp', 'Screenshot 2025-11-04 231921.webp', 'Screenshot 2025-11-04 231931.webp', 'Screenshot 2025-11-04 231942.webp', 'Screenshot 2025-11-04 231954.webp', 'Screenshot 2025-11-04 232008.webp', 'Screenshot 2025-11-04 232020.webp', 'Screenshot 2025-11-04 232032.webp'],
      'e9kitchenwastefoodgarbagetrucks': ['Screenshot 2025-11-04 234653.webp', 'Screenshot 2025-11-04 234704.webp', 'Screenshot 2025-11-04 234715.webp', 'Screenshot 2025-11-04 234723.webp', 'Screenshot 2025-11-04 234736.webp', 'Screenshot 2025-11-04 234746.webp', 'Screenshot 2025-11-04 234755.webp', 'Screenshot 2025-11-04 234809.webp', 'Screenshot 2025-11-04 234828.webp'],
      'e9staketrucks': ['Screenshot 2025-11-04 231223.webp', 'Screenshot 2025-11-04 231236.webp', 'Screenshot 2025-11-04 231247.webp', 'Screenshot 2025-11-04 231257.webp', 'Screenshot 2025-11-04 231312.webp', 'Screenshot 2025-11-04 231322.webp', 'Screenshot 2025-11-04 231333.webp', 'Screenshot 2025-11-04 231359.webp', 'Screenshot 2025-11-04 231418.webp'],
      'e9flatbedtrucks': ['Screenshot 2025-11-05 000014.webp'],
      'x7concretemixertrucks': ['main.webp', 'Screenshot 2025-11-04 232521.webp', 'Screenshot 2025-11-04 232530.webp', 'Screenshot 2025-11-04 232538.webp', 'Screenshot 2025-11-04 232548.webp', 'Screenshot 2025-11-04 232609.webp', 'Screenshot 2025-11-04 232618.webp', 'Screenshot 2025-11-04 232646.webp', 'Screenshot 2025-11-04 232705.webp', 'Screenshot 2025-11-04 232719.webp', 'Screenshot 2025-11-04 232726.webp', 'Screenshot 2025-11-04 232752.webp', 'Screenshot 2025-11-04 232804.webp', 'Screenshot 2025-11-04 232819.webp', 'Screenshot 2025-11-04 232833.webp'],
      'x7flatbedtrucks': ['main.webp', 'Screenshot 2025-11-04 232907.webp', 'Screenshot 2025-11-04 232916.webp', 'Screenshot 2025-11-04 232936.webp', 'Screenshot 2025-11-04 232951.webp', 'Screenshot 2025-11-04 233001.webp', 'Screenshot 2025-11-04 233011.webp', 'Screenshot 2025-11-04 233019.webp', 'Screenshot 2025-11-04 233034.webp', 'Screenshot 2025-11-04 233045.webp', 'Screenshot 2025-11-04 233055.webp', 'Screenshot 2025-11-04 233104.webp', 'Screenshot 2025-11-04 233113.webp', 'Screenshot 2025-11-04 233122.webp'],
      'x7sprinklertrucks': ['main.webp', 'Screenshot 2025-11-04 233449.webp', 'Screenshot 2025-11-04 233510.webp', 'Screenshot 2025-11-04 233523.webp', 'Screenshot 2025-11-04 233532.webp', 'Screenshot 2025-11-04 233542.webp', 'Screenshot 2025-11-04 233555.webp', 'Screenshot 2025-11-04 233606.webp', 'Screenshot 2025-11-04 233615.webp', 'Screenshot 2025-11-04 233630.webp'],
      'x7truckmountedcrane': ['main.webp', 'Screenshot 2025-11-04 231807.webp', 'Screenshot 2025-11-04 233700.webp', 'Screenshot 2025-11-04 233711.webp', 'Screenshot 2025-11-04 233729.webp', 'Screenshot 2025-11-04 233739.webp', 'Screenshot 2025-11-04 233748.webp', 'Screenshot 2025-11-04 233836.webp', 'Screenshot 2025-11-04 233848.webp', 'Screenshot 2025-11-04 233857.webp', 'Screenshot 2025-11-04 233909.webp', 'Screenshot 2025-11-04 233920.webp', 'Screenshot 2025-11-04 233933.webp', 'Screenshot 2025-11-04 233945.webp', 'Screenshot 2025-11-04 233959.webp'],
      'x7dumptrucks': ['main.webp', 'Screenshot 2025-11-04 234033.webp', 'Screenshot 2025-11-04 234102.webp', 'Screenshot 2025-11-04 234118.webp', 'Screenshot 2025-11-04 234134.webp', 'Screenshot 2025-11-04 234217.webp', 'Screenshot 2025-11-04 234228.webp', 'Screenshot 2025-11-04 234237.webp', 'Screenshot 2025-11-04 234259.webp', 'Screenshot 2025-11-04 234309.webp', 'Screenshot 2025-11-04 234318.webp', 'Screenshot 2025-11-04 234331.webp', 'Screenshot 2025-11-04 234342.webp', 'Screenshot 2025-11-04 234353.webp'],
      'i9': ['main.webp', 'Screenshot 2025-11-04 235138.webp', 'Screenshot 2025-11-04 235147.webp', 'Screenshot 2025-11-04 235211.webp', 'Screenshot 2025-11-04 235237.webp', 'Screenshot 2025-11-04 235254.webp', 'Screenshot 2025-11-04 235306.webp', 'Screenshot 2025-11-04 235354.webp', 'Screenshot 2025-11-04 235423.webp', 'Screenshot 2025-11-04 235433.webp', 'Screenshot 2025-11-04 235443.webp', 'Screenshot 2025-11-04 235454.webp', 'Screenshot 2025-11-04 235512.webp', 'Screenshot 2025-11-04 235528.webp', 'Screenshot 2025-11-04 235550.webp', 'Screenshot 2025-11-04 235604.webp', 'Screenshot 2025-11-04 235617.webp'],
      'e6dumptrucks': ['Screenshot 2025-11-05 000835.webp', 'Screenshot 2025-11-05 002745.webp', 'Screenshot 2025-11-05 002754.webp', 'Screenshot 2025-11-05 002802.webp', 'Screenshot 2025-11-05 002810.webp', 'Screenshot 2025-11-05 002822.webp', 'Screenshot 2025-11-05 002831.webp', 'Screenshot 2025-11-05 002845.webp', 'Screenshot 2025-11-05 002857.webp', 'Screenshot 2025-11-05 002949.webp', 'Screenshot 2025-11-05 002956.webp', 'Screenshot 2025-11-05 003005.webp', 'Screenshot 2025-11-05 003014.webp', 'Screenshot 2025-11-05 003025.webp', 'Screenshot 2025-11-05 003036.webp', 'Screenshot 2025-11-05 003045.webp', 'Screenshot 2025-11-05 003055.webp', 'Screenshot 2025-11-05 011143.webp', 'Screenshot 2025-11-05 011157.webp', 'Screenshot 2025-11-05 011219.webp', 'Screenshot 2025-11-05 011231.webp', 'Screenshot 2025-11-05 011259.webp', 'Screenshot 2025-11-05 011308.webp', 'Screenshot 2025-11-05 011319.webp', 'Screenshot 2025-11-05 011330.webp'],
      'e6vantrucks': ['Screenshot 2025-11-05 010954.webp', 'Screenshot 2025-11-05 011005.webp', 'Screenshot 2025-11-05 011018.webp'],
      'e6staketrucks': ['Screenshot 2025-11-05 001150.webp', 'Screenshot 2025-11-05 001158.webp', 'Screenshot 2025-11-05 001215.webp', 'Screenshot 2025-11-05 001223.webp', 'Screenshot 2025-11-05 001233.webp', 'Screenshot 2025-11-05 001241.webp', 'Screenshot 2025-11-05 001257.webp', 'Screenshot 2025-11-05 001305.webp', 'Screenshot 2025-11-05 001314.webp', 'Screenshot 2025-11-05 001322.webp', 'Screenshot 2025-11-05 001332.webp', 'Screenshot 2025-11-05 011544.webp', 'Screenshot 2025-11-05 011554.webp', 'Screenshot 2025-11-05 011603.webp', 'Screenshot 2025-11-05 011611.webp', 'Screenshot 2025-11-05 011621.webp', 'Screenshot 2025-11-05 011644.webp', 'Screenshot 2025-11-05 011655.webp', 'Screenshot 2025-11-05 011706.webp', 'Screenshot 2025-11-05 011725.webp', 'Screenshot 2025-11-05 011752.webp'],
      'e6refrigeratedtruck': ['main.webp', 'Screenshot 2025-11-05 023946.webp', 'Screenshot 2025-11-05 024015.webp', 'Screenshot 2025-11-05 024025.webp', 'Screenshot 2025-11-05 024035.webp', 'Screenshot 2025-11-05 024046.webp', 'Screenshot 2025-11-05 024100.webp', 'Screenshot 2025-11-05 024118.webp', 'Screenshot 2025-11-05 024126.webp', 'Screenshot 2025-11-05 024143.webp', 'Screenshot 2025-11-05 024159.webp', 'Screenshot 2025-11-05 024207.webp', 'Screenshot 2025-11-05 024215.webp', 'Screenshot 2025-11-05 024223.webp', 'Screenshot 2025-11-05 024233.webp', 'Screenshot 2025-11-05 024258.webp'],
      'e6sprinklertrucks': ['main.webp', 'Screenshot 2025-11-05 022945.webp', 'Screenshot 2025-11-05 023011.webp', 'Screenshot 2025-11-05 023023.webp', 'Screenshot 2025-11-05 023034.webp', 'Screenshot 2025-11-05 023045.webp', 'Screenshot 2025-11-05 023057.webp', 'Screenshot 2025-11-05 023114.webp', 'Screenshot 2025-11-05 023124.webp', 'Screenshot 2025-11-05 023137.webp', 'Screenshot 2025-11-05 023155.webp'],
      'e6truckmountedcrane': ['mai.webp', 'Screenshot 2025-11-05 023633.webp', 'Screenshot 2025-11-05 023641.webp', 'Screenshot 2025-11-05 023700.webp', 'Screenshot 2025-11-05 023715.webp', 'Screenshot 2025-11-05 023727.webp'],
      'e6cementmixertrucks': ['main.webp', 'Screenshot 2025-11-05 011422.webp', 'Screenshot 2025-11-05 011432.webp', 'Screenshot 2025-11-05 011442.webp', 'Screenshot 2025-11-05 011451.webp', 'Screenshot 2025-11-05 011505.webp', 'Screenshot 2025-11-05 100735.webp', 'Screenshot 2025-11-05 100751.webp', 'Screenshot 2025-11-05 100758.webp', 'Screenshot 2025-11-05 100805.webp', 'Screenshot 2025-11-05 100813.webp', 'Screenshot 2025-11-05 100827.webp'],
      'x6dumptrucks': ['Screenshot 2025-11-05 000928.webp', 'Screenshot 2025-11-05 001402.webp', 'Screenshot 2025-11-05 001416.webp', 'Screenshot 2025-11-05 001424.webp', 'Screenshot 2025-11-05 001434.webp', 'Screenshot 2025-11-05 001444.webp', 'Screenshot 2025-11-05 001453.webp', 'Screenshot 2025-11-05 001505.webp', 'Screenshot 2025-11-05 001516.webp', 'Screenshot 2025-11-05 001530.webp', 'Screenshot 2025-11-05 001539.webp', 'Screenshot 2025-11-05 001549.webp', 'Screenshot 2025-11-05 001604.webp', 'Screenshot 2025-11-05 001614.webp', 'Screenshot 2025-11-05 001622.webp'],
      'x6flatbeds': ['Screenshot 2025-11-05 002252.webp'],
      'x6truckmountedcranes': ['Screenshot 2025-11-05 000857.webp'],
      'x6cargotrucks': ['Screenshot 2025-11-05 001000.webp'],
      'x6awdcargotrucks': ['Screenshot 2025-11-05 001032.webp'],
      'x6dropsidetrucks': ['Screenshot 2025-11-05 001655.webp'],
      'x6cementmixertsucks': ['Screenshot 2025-11-05 001748.webp'],
      'x6concretemixertrucks': ['Screenshot 2025-11-05 002449.webp', 'Screenshot 2025-11-05 002457.webp', 'Screenshot 2025-11-05 002506.webp', 'Screenshot 2025-11-05 002513.webp', 'Screenshot 2025-11-05 002522.webp', 'Screenshot 2025-11-05 002534.webp', 'Screenshot 2025-11-05 011041.webp', 'Screenshot 2025-11-05 011055.webp', 'Screenshot 2025-11-05 011103.webp', 'Screenshot 2025-11-05 011112.webp'],
      'x6loadingcranerecoverytruck': ['Screenshot 2025-11-05 001907.webp', 'Screenshot 2025-11-05 001917.webp', 'Screenshot 2025-11-05 001926.webp', 'Screenshot 2025-11-05 001934.webp'],
      'x6sprinklertrucks': ['main.webp', 'Screenshot 2025-11-05 002010.webp', 'Screenshot 2025-11-05 002030.webp', 'Screenshot 2025-11-05 002041.webp', 'Screenshot 2025-11-05 002607.webp', 'Screenshot 2025-11-05 002618.webp', 'Screenshot 2025-11-05 002629.webp', 'Screenshot 2025-11-05 002638.webp', 'Screenshot 2025-11-05 002646.webp'],
      'x6dustsuppressiontrucks': ['Screenshot 2025-11-05 002130.webp', 'Screenshot 2025-11-05 002138.webp', 'Screenshot 2025-11-05 002146.webp', 'Screenshot 2025-11-05 002155.webp', 'Screenshot 2025-11-05 002204.webp'],
      'x6garbagetrucks': ['Screenshot 2025-11-05 002329.webp', 'Screenshot 2025-11-05 002343.webp', 'Screenshot 2025-11-05 002355.webp', 'Screenshot 2025-11-05 002409.webp'],
      'x6fueltanker': ['Screenshot 2025-11-05 024749.webp'],
      'x6vantrucks': ['Screenshot 2025-11-05 001119.webp'],
      'f9flatbedtrucks': ['Screenshot 2025-11-04 230913.webp', 'Screenshot 2025-11-04 230924.webp', 'Screenshot 2025-11-04 230935.webp', 'Screenshot 2025-11-04 230944.webp', 'Screenshot 2025-11-04 230955.webp', 'Screenshot 2025-11-04 231006.webp', 'Screenshot 2025-11-04 231016.webp', 'Screenshot 2025-11-04 231027.webp', 'Screenshot 2025-11-04 231035.webp', 'Screenshot 2025-11-04 231051.webp', 'Screenshot 2025-11-04 231101.webp', 'Screenshot 2025-11-04 231111.webp', 'Screenshot 2025-11-04 231121.webp', 'Screenshot 2025-11-04 231130.webp', 'Screenshot 2025-11-04 231141.webp'],
      'Additional Trucks/E3 Dump Truck': ['main.webp', 'Screenshot 2025-11-05 134215.webp', 'Screenshot 2025-11-05 134223.webp', 'Screenshot 2025-11-05 134242.webp', 'Screenshot 2025-11-05 134254.webp', 'Screenshot 2025-11-05 134302.webp', 'Screenshot 2025-11-05 134310.webp', 'Screenshot 2025-11-05 134320.webp', 'Screenshot 2025-11-05 134330.webp', 'Screenshot 2025-11-05 134343.webp', 'Screenshot 2025-11-05 134352.webp', 'Screenshot 2025-11-05 134424.webp', 'Screenshot 2025-11-05 134432.webp', 'Screenshot 2025-11-05 134442.webp', 'Screenshot 2025-11-05 134452.webp', 'Screenshot 2025-11-05 134505.webp', 'Screenshot 2025-11-05 134522.webp', 'Screenshot 2025-11-05 134531.webp', 'Screenshot 2025-11-05 134539.webp', 'Screenshot 2025-11-05 134548.webp', 'Screenshot 2025-11-05 134556.webp', 'Screenshot 2025-11-05 134605.webp', 'Screenshot 2025-11-05 134614.webp', 'Screenshot 2025-11-05 134623.webp', 'Screenshot 2025-11-05 134701.webp', 'Screenshot 2025-11-05 134713.webp', 'Screenshot 2025-11-05 134722.webp', 'Screenshot 2025-11-05 134731.webp', 'Screenshot 2025-11-05 134739.webp', 'Screenshot 2025-11-05 134754.webp', 'Screenshot 2025-11-05 134804.webp', 'Screenshot 2025-11-05 134812.webp', 'Screenshot 2025-11-05 134820.webp', 'Screenshot 2025-11-05 134843.webp', 'Screenshot 2025-11-05 134850.webp', 'Screenshot 2025-11-05 134859.webp', 'Screenshot 2025-11-05 135257.webp', 'Screenshot 2025-11-05 135309.webp', 'Screenshot 2025-11-05 135318.webp', 'Screenshot 2025-11-05 135325.webp', 'Screenshot 2025-11-05 135332.webp', 'Screenshot 2025-11-05 135345.webp', 'Screenshot 2025-11-05 135352.webp', 'Screenshot 2025-11-05 135401.webp', 'Screenshot 2025-11-05 135416.webp', 'Screenshot 2025-11-05 135425.webp', 'Screenshot 2025-11-05 135437.webp'],
      'Additional Trucks/E3 Muck Truck': ['Screenshot 2025-11-05 134942.webp', 'Screenshot 2025-11-05 134950.webp', 'Screenshot 2025-11-05 134959.webp', 'Screenshot 2025-11-05 135006.webp', 'Screenshot 2025-11-05 135014.webp', 'Screenshot 2025-11-05 135045.webp', 'Screenshot 2025-11-05 135053.webp', 'Screenshot 2025-11-05 135100.webp', 'Screenshot 2025-11-05 135109.webp', 'Screenshot 2025-11-05 135117.webp', 'Screenshot 2025-11-05 135126.webp', 'Screenshot 2025-11-05 135134.webp', 'Screenshot 2025-11-05 135142.webp', 'Screenshot 2025-11-05 135150.webp', 'Screenshot 2025-11-05 135158.webp', 'Screenshot 2025-11-05 135208.webp', 'Screenshot 2025-11-05 135216.webp'],
      'Additional Trucks/E3 Tractor Truck': ['Screenshot 2025-11-05 135935.webp', 'Screenshot 2025-11-05 135943.webp', 'Screenshot 2025-11-05 135951.webp', 'Screenshot 2025-11-05 135959.webp', 'Screenshot 2025-11-05 140007.webp', 'Screenshot 2025-11-05 140016.webp', 'Screenshot 2025-11-05 140024.webp', 'Screenshot 2025-11-05 140032.webp'],
      'Additional Trucks/E3 Van Truck': ['Screenshot 2025-11-05 135614.webp', 'Screenshot 2025-11-05 135624.webp', 'Screenshot 2025-11-05 135633.webp', 'Screenshot 2025-11-05 135640.webp', 'Screenshot 2025-11-05 135648.webp', 'Screenshot 2025-11-05 135654.webp', 'Screenshot 2025-11-05 135702.webp', 'Screenshot 2025-11-05 135710.webp', 'Screenshot 2025-11-05 135719.webp', 'Screenshot 2025-11-05 135727.webp', 'Screenshot 2025-11-05 135736.webp', 'Screenshot 2025-11-05 135742.webp'],
      'Additional Trucks/E3 Stake Truck': ['Screenshot 2025-11-05 140217.webp', 'Screenshot 2025-11-05 140225.webp', 'Screenshot 2025-11-05 140233.webp', 'Screenshot 2025-11-05 140242.webp', 'Screenshot 2025-11-05 140250.webp', 'Screenshot 2025-11-05 140258.webp', 'Screenshot 2025-11-05 140306.webp', 'Screenshot 2025-11-05 140313.webp', 'Screenshot 2025-11-05 140321.webp', 'Screenshot 2025-11-05 140333.webp', 'Screenshot 2025-11-05 140341.webp', 'Screenshot 2025-11-05 140348.webp', 'Screenshot 2025-11-05 140358.webp', 'Screenshot 2025-11-05 140406.webp', 'Screenshot 2025-11-05 140413.webp', 'Screenshot 2025-11-05 140421.webp', 'Screenshot 2025-11-05 140431.webp', 'Screenshot 2025-11-05 140440.webp', 'Screenshot 2025-11-05 140452.webp', 'Screenshot 2025-11-05 140459.webp', 'Screenshot 2025-11-05 140507.webp', 'Screenshot 2025-11-05 140515.webp', 'Screenshot 2025-11-05 140527.webp', 'Screenshot 2025-11-05 140540.webp', 'Screenshot 2025-11-05 140549.webp', 'Screenshot 2025-11-05 140557.webp', 'Screenshot 2025-11-05 140622.webp', 'Screenshot 2025-11-05 140634.webp'],
      'Additional Trucks/E3 Sewage Suction Truck': ['Screenshot 2025-11-05 133957.webp', 'Screenshot 2025-11-05 134008.webp', 'Screenshot 2025-11-05 134017.webp', 'Screenshot 2025-11-05 134028.webp', 'Screenshot 2025-11-05 134038.webp', 'Screenshot 2025-11-05 134047.webp', 'Screenshot 2025-11-05 134059.webp', 'Screenshot 2025-11-05 134111.webp', 'Screenshot 2025-11-05 134123.webp'],
      'Additional Trucks/E3 cement mixer trucks': ['Screenshot 2025-11-05 143020.webp', 'Screenshot 2025-11-05 143029.webp', 'Screenshot 2025-11-05 143037.webp', 'Screenshot 2025-11-05 143048.webp', 'Screenshot 2025-11-05 143058.webp', 'Screenshot 2025-11-05 143126.webp', 'Screenshot 2025-11-05 143136.webp', 'Screenshot 2025-11-05 143146.webp'],
      'Additional Trucks/E6 compactor garbage trucks': ['Screenshot 2025-11-05 143227.webp', 'Screenshot 2025-11-05 143235.webp', 'Screenshot 2025-11-05 143243.webp', 'Screenshot 2025-11-05 143251.webp', 'Screenshot 2025-11-05 143301.webp', 'Screenshot 2025-11-05 143312.webp'],
      'Additional Trucks/Z3 Tractor Truck': ['Screenshot 2025-11-05 140103.webp', 'Screenshot 2025-11-05 140111.webp', 'Screenshot 2025-11-05 140120.webp', 'Screenshot 2025-11-05 140128.webp', 'Screenshot 2025-11-05 140135.webp', 'Screenshot 2025-11-05 140142.webp', 'Screenshot 2025-11-05 140150.webp'],
      'Additional Trucks/9 Series Sweeper': ['Screenshot 2025-11-05 132520.webp'],
      'Additional Trucks/9Series Garbage Truck': ['Screenshot 2025-11-05 133259.webp'],
      'Additional Trucks/9 Series Tow Truck': ['Screenshot 2025-11-05 133547.webp'],
      'Additional Trucks/9 series truck mounted crane': ['Screenshot 2025-11-05 133651.webp'],
      'Additional Trucks/9 Series Cement Mixer Truck': ['Screenshot 2025-11-05 133807.webp', 'Screenshot 2025-11-05 133830.webp'],
      'Additional Trucks/6Series Sweeper': ['Screenshot 2025-11-05 132454.webp'],
      'Additional Trucks/6 Series Garbage Trucks': ['Screenshot 2025-11-05 133323.webp'],
      'Additional Trucks/6 series truck mounted crane': ['Screenshot 2025-11-05 133720.webp'],
      'Additional Trucks/6 series cement mixer trucks': ['Screenshot 2025-11-05 142913.webp'],
      'Additional Trucks/3 series truck mounted crane': ['Screenshot 2025-11-05 133743.webp'],
      'Additional Trucks/9 Series Trick Mounted Crane': ['Screenshot 2025-11-05 133515.webp', 'Screenshot 2025-11-05 143406.webp'],
      'Additional Trucks/9 Series Aerial Work Platform': ['Screenshot 2025-11-05 133615.webp'],
      'Additional Trucks/e6cementmixertrucks': ['main.webp', 'Screenshot 2025-11-05 100735.webp', 'Screenshot 2025-11-05 100751.webp', 'Screenshot 2025-11-05 100758.webp', 'Screenshot 2025-11-05 100805.webp', 'Screenshot 2025-11-05 100813.webp', 'Screenshot 2025-11-05 100827.webp']
    };

    // utility to extract directory key from image src for mapping lookup
    function getDirectoryKeyFromSrc(src) {
      try {
        // Handle both relative and absolute URLs
        // Extract path relative to assets/trucks/
        let trucksIdx = src.indexOf('assets/trucks/');
        if (trucksIdx === -1) {
          // Try alternative path format
          trucksIdx = src.indexOf('trucks/');
          if (trucksIdx === -1) return null;
          const pathAfterTrucks = src.substring(trucksIdx + 'trucks/'.length);
          const lastSlashIdx = pathAfterTrucks.lastIndexOf('/');
          if (lastSlashIdx === -1) return null;
          return pathAfterTrucks.substring(0, lastSlashIdx);
        }
        
        const pathAfterTrucks = src.substring(trucksIdx + 'assets/trucks/'.length);
        const lastSlashIdx = pathAfterTrucks.lastIndexOf('/');
        if (lastSlashIdx === -1) return null;
        
        return pathAfterTrucks.substring(0, lastSlashIdx);
      } catch (e) {
        return null;
      }
    }

    // utility to safely extract folder path from an image src
    function folderFromSrc(src) {
      try {
        const idx = src.lastIndexOf('/');
        if (idx === -1) return '';
        return src.slice(0, idx + 1);
      } catch (e) {
        return '';
      }
    }

    // create the popup overlay DOM structure once (reused)
    const popupOverlay = document.createElement('div');
    popupOverlay.className = 'ek-popup-overlay';
    popupOverlay.setAttribute('role','dialog');
    popupOverlay.setAttribute('aria-hidden','true');
    popupOverlay.innerHTML = `
      <div class="ek-popup" aria-modal="true">
        <div class="ek-popup-header">
          <div class="ek-popup-title">Truck</div>
          <button class="ek-popup-close" aria-label="Close popup">&times;</button>
        </div>
                <div class="ek-popup-body">
          <div class="ek-gallery">
            <div class="ek-main-image"><img src="" alt="Truck image"></div>
            <div class="ek-thumb-strip"></div>
          </div>
          <div class="ek-details">
            <h3 class="role"></h3>
            <p class="desc"></p>
            <div class="specs">
              <ul class="ek-spec-list"></ul>
            </div>
            <div class="thumbs-note">Click thumbnails to view images</div>
          </div>
        </div>
        <div class="ek-popup-footer">
          <button class="ek-btn" id="popupCloseBtn">Close</button>
        </div>
      </div>
    `;
    document.body.appendChild(popupOverlay);

    const popup = popupOverlay.querySelector('.ek-popup');
    const closeBtns = popupOverlay.querySelectorAll('.ek-popup-close, #popupCloseBtn');
    const mainImg = popupOverlay.querySelector('.ek-main-image img');
    const thumbStrip = popupOverlay.querySelector('.ek-thumb-strip');
    const popupTitle = popupOverlay.querySelector('.ek-popup-title');
    const popupRole = popupOverlay.querySelector('.role');
    const popupDesc = popupOverlay.querySelector('.desc');
    const specList = popupOverlay.querySelector('.ek-spec-list');

    // open popup for each tile
    document.querySelectorAll('.truck-tile').forEach(tile => {
      tile.addEventListener('click', () => {
        const img = tile.querySelector('img');
        const src = img ? img.src : '';
        const name = tile.querySelector('.truck-name')?.textContent || 'Truck';
        const folder = folderFromSrc(src);

        const details = generateDetails(name);

        popupTitle.textContent = details.title;
        popupRole.textContent = details.role;
        popupDesc.textContent = details.desc;

        // build specs list
        specList.innerHTML = '';
        for (let key in details.specs) {
          const li = document.createElement('li');
          li.innerHTML = `<span class="ek-spec-key">${key}:</span> ${details.specs[key]}`;
          specList.appendChild(li);
        }

        // create thumbnails from mapping
        thumbStrip.innerHTML = '';
        const dirKey = getDirectoryKeyFromSrc(src);
        const clickedFilename = src.substring(src.lastIndexOf('/') + 1);
        let images = [];
        
        if (dirKey && truckImagesMap[dirKey]) {
          const imageFilenames = truckImagesMap[dirKey];
          // Build full paths for all images
          images = imageFilenames.map(filename => folder + filename);
          
          // Ensure clicked image is first (if it exists in the array)
          const clickedIndex = images.findIndex(img => {
            const imgFilename = img.substring(img.lastIndexOf('/') + 1);
            return imgFilename === clickedFilename;
          });
          
          if (clickedIndex > 0) {
            // Move clicked image to front
            const clickedImg = images[clickedIndex];
            images.splice(clickedIndex, 1);
            images.unshift(clickedImg);
          } else if (clickedIndex === -1) {
            // If clicked image not in mapping, put it first
            images.unshift(src);
          }
        } else {
          // Fallback: just use the clicked image
          images = [src];
        }
        
        images.forEach((s, i) => {
          const thumb = document.createElement('div');
          thumb.className = 'ek-thumb' + (i === 0 ? ' active' : '');
          thumb.innerHTML = `<img src="${s}" alt="">`;
          thumb.addEventListener('click', () => {
            thumbStrip.querySelectorAll('.ek-thumb').forEach(t => t.classList.remove('active'));
            thumb.classList.add('active');
            mainImg.src = s;
          });
          thumbStrip.appendChild(thumb);
        });

        mainImg.src = images[0];

        popupOverlay.classList.add('open');
        document.body.classList.add('ek-blur');
        popupOverlay.setAttribute('aria-hidden','false');
      });
    });

    // close logic
    closeBtns.forEach(btn => {
      btn.addEventListener('click', closePopup);
    });
    popupOverlay.addEventListener('click', e => {
      if (e.target === popupOverlay) closePopup();
    });

    function closePopup() {
      popupOverlay.classList.remove('open');
      document.body.classList.remove('ek-blur');
      popupOverlay.setAttribute('aria-hidden','true');
    }

// Trucks dropdown hover functionality
const trucksDropdown = document.querySelector('.trucks-dropdown');
if (trucksDropdown) {
    const dropdownMenu = trucksDropdown.querySelector('.dropdown-menu');
    let hoverTimeout;

    trucksDropdown.addEventListener('mouseenter', () => {
        clearTimeout(hoverTimeout);
        dropdownMenu.style.display = 'block';
    });

    trucksDropdown.addEventListener('mouseleave', () => {
        hoverTimeout = setTimeout(() => {
            dropdownMenu.style.display = 'none';
        }, 300); // 300ms delay before hiding
    });
}
  </script>
    <div id="footer-placeholder"></div>
</body>
</html>
