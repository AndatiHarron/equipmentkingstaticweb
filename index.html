<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Equipment King</title>
<link rel="stylesheet" href="css/styles.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<script src="js/header-footer-loader.js"></script>

<style>
    @media (max-width: 700px) {
      .hero-content {
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 18px !important;
      }
      .hero-glass {
        align-items: center !important;
        margin-bottom: 0 !important;
        min-width: 0 !important;
        max-width: 95vw !important;
        width: 100%;
        margin-top: 24px !important;
      }
      .hero-main-btn-desktop {
        display: none !important;
      }
      .hero-main-btn-mobile {
        display: block !important;
        margin: 24px auto 0 auto !important;
        width: 100% !important;
        max-width: 320px !important;
        text-align: center !important;
      }
      #vehicleTabs {
        display: grid !important;
        grid-template-columns: repeat(3, 1fr) !important;
        grid-template-rows: repeat(2, auto) !important;
        gap: 12px !important;
        justify-items: stretch !important;
        align-items: stretch !important;
        margin: 0 auto 18px auto !important;
        max-width: 100vw !important;
      }
      .tab-btn {
        width: 100% !important;
        min-width: 0 !important;
        font-size: 15px !important;
        padding: 10px 0 !important;
        margin: 0 !important;
      }
    }
  html, body {
    margin:0;
    padding:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
    background: #111 url('backgrounds/1 (19).jpg') center center/cover no-repeat fixed;
    color:#fff;
    scroll-behavior:smooth;
    min-height: 100vh;
    position: relative;
  }

  body::before {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.65);
    z-index: 0;
    pointer-events: none;
  }

  section.hero {
    height: 100vh;
    background: url('assets/hero_section/front2.webp') center/cover no-repeat;
    display: flex;
    flex-direction: row;
    align-items: flex-end;
    justify-content: flex-start;
    text-align: left;
    color: #fff;
    position: relative;
    overflow: hidden;
    padding: 0 7vw 7vw 7vw;
  }

  /* Fade transition at the bottom of hero */
  section.hero::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 120px;
  background: linear-gradient(to bottom, rgba(17,17,17,0) 0%, rgba(17,17,17,0.85) 100%);
  pointer-events: none;
  z-index: 2;
  }

  .hero-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.5);
    color: #fff;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    padding: 10px 18px;
    border-radius: 50%;
    z-index: 10;
    transition: background 0.3s;
  }

  .hero-btn:hover {
    background: rgba(0,0,0,0.8);
  }

  .hero-progress {
    position: absolute;
    top: 80px;
    left: 200px;
    display: flex;
    gap: 12px; /* Increased gap to accommodate larger dashes */
    z-index: 15;
  }

  .progress-dash {
    width: 58.5px; /* Increased by 30%: 45px * 1.3 = 58.5px */
    height: 7.8px; /* Increased by 30%: 6px * 1.3 = 7.8px */
    background: rgba(255, 255, 255, 0.5);
    border-radius: 3.9px; /* Increased by 30%: 3px * 1.3 = 3.9px */
    transition: all 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.3);
    padding: 1.2px 3px; /* Added 20% padding */
  }

  .progress-dash.active {
    background: #ffffff;
    transform: scaleY(1.8);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
    border: 1px solid #ffffff;
  }

  .progress-dash.active::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent);
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
  }

  * { box-sizing: border-box; }

  h1, h2 { font-weight: 600; margin: 2rem 0 1rem; }

  section.tabs {
      padding: 120px 40px;
      text-align: center;
      position: relative;
      background: rgba(255, 255, 255, 0.18);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
      backdrop-filter: blur(16px) saturate(180%);
      -webkit-backdrop-filter: blur(16px) saturate(180%);
      border-radius: 18px;
      border: 1.5px solid rgba(255, 255, 255, 0.28);
      margin: 0 auto 40px auto;
      max-width: 1300px;
    }

  /* Extended hover area with 40px invisible padding */
  section.tabs::before {
    content: '';
    position: absolute;
    top: -40px;
    left: -40px;
    right: -40px;
    bottom: -40px;
    pointer-events: auto;
    z-index: 1;
  }

  .tab-btn {
    cursor: pointer;
    font-size: 17px;
    padding: 12px 26px;
    border-radius: 30px;
    background: rgba(255,255,255,0.18);
    box-shadow: 0 4px 16px 0 rgba(31,38,135,0.10);
    backdrop-filter: blur(8px) saturate(180%);
    -webkit-backdrop-filter: blur(8px) saturate(180%);
    border: 1.5px solid rgba(255,255,255,0.28);
    color: #fff;
    transition: all .3s;
    margin: 5px;
    position: relative;
    z-index: 2;
  }

  .tab-btn:hover,
  .tab-btn.active {
    background: #000;
    color: #fff;
  }

  #tabContent {
    max-width: 100%;
    margin: 60px auto 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 35px;
    opacity: 1;
    transition: opacity .5s ease;
    justify-items: stretch;
    position: relative;
    z-index: 10;
  }
  
  /* When there's only one card, limit width but keep left-aligned */
  #tabContent.single-card {
    grid-template-columns: minmax(300px, 400px);
    justify-content: start;
  }

  .vehicle-card {
    background: rgba(255, 255, 255, 0.18);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    border-radius: 18px;
    border: 1.5px solid rgba(255, 255, 255, 0.28);
    overflow: hidden;
    transform: scale(1);
    transition: all .3s ease;
    max-width: 100%;
    position: relative;
    z-index: 10;
    pointer-events: auto;
    color: #fff;
  }

  .vehicle-card:hover {
    transform: translateY(-6px) scale(1.03);
    box-shadow: 0 15px 35px rgba(0,0,0,0.12);
  }

  .vehicle-card img {
    width: 100%;
    height: 260px;
    object-fit: cover;
  }

  .vehicle-card h3 {
    font-size: 22px;
    font-weight: 600;
    margin: 15px 0 10px;
    color: #fff;
  }

  .vehicle-card ul {
    list-style: none;
    padding: 0;
    margin: 0;
    color: #fff;
    font-size: 15.5px;
    line-height: 1.7;
  }

  p[style*="grid-column:1/-1;text-align:center;font-size:18px;color:#666;"] {
    grid-column: 1/-1;
    text-align: center;
    font-size: 18px;
    color: #666;
  }

  /* Gallery Section - Professional Gray Theme */
  section.gallery {
      padding: 80px 20px;
      background: none;
      text-align: center;
      position: relative;
    }

  /* Gallery content initial state */
  .gallery-content {
      opacity: 1;
      position: relative;
      z-index: 1;
      background: rgba(255, 255, 255, 0.18);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
      backdrop-filter: blur(16px) saturate(180%);
      -webkit-backdrop-filter: blur(16px) saturate(180%);
      border-radius: 18px;
      border: 1.5px solid rgba(255, 255, 255, 0.28);
      padding: 32px 0 32px 0;
      margin: 0 auto 40px auto;
      max-width: 1300px;
    }

  section.gallery h2 {
  font-size: 2.5rem;
  font-weight: 700;
  color: #fff;
  text-transform: uppercase;
  margin-bottom: 50px;
  display: inline-block;
  padding: 15px 30px;
  background: none;
  position: relative;
  border-radius: 0;
  }

  section.gallery h2::before {
    content: '';
    position: absolute;
    top: 50%;
    left: -100px;
    right: -100px;
    height: 1px;
    background: linear-gradient(90deg, transparent, #ddd, transparent);
    z-index: -1;
  }

  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto 50px;
  }

  .gallery-card {
    background: #ffffff;
    border: 2px solid #dee2e6;
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s ease;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(33, 37, 41, 0.1);
  }

  .gallery-card:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 12px 30px rgba(33, 37, 41, 0.15);
    border-color: #212529;
  }

  .gallery-card img {
    width: 100%;
    height: 280px;
    object-fit: cover;
    border-bottom: 1px solid #dee2e6;
    transition: all 0.3s ease;
  }

  .gallery-card:hover img {
    transform: scale(1.05);
  }

  .gallery-card span {
    display: block;
    padding: 12px 16px;
    font-size: 0.9rem;
    font-weight: 600;
    color: #212529;
    text-transform: uppercase;
    background: #ffffff;
    letter-spacing: 0.3px;
  }

  .primary {
    background: #212529;
    color: #ffffff;
    border: 2px solid #212529;
    padding: 15px 40px;
    font-size: 1.1rem;
    font-weight: 600;
    text-transform: uppercase;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    letter-spacing: 0.5px;
  }

  .primary:hover {
    background: #ffffff;
    color: #212529;
    border-color: #212529;
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(33, 37, 41, 0.2);
  }
</style>
</head>

<body>
<div id="header-placeholder"></div>

<section class="hero">

  <div class="hero-content" style="display: flex; align-items: flex-end; justify-content: space-between; gap: 32px; width: 100%;">
  <div class="hero-glass" style="background: rgba(255,255,255,0.13); border: 1.5px solid rgba(255,255,255,0.22); backdrop-filter: blur(18px) saturate(180%); -webkit-backdrop-filter: blur(18px) saturate(180%); box-shadow: 0 8px 32px 0 rgba(31,38,135,0.13); border-radius: 18px; padding: 32px 36px 28px 36px; display: flex; flex-direction: column; align-items: flex-start; min-width: 320px; max-width: 480px; margin-bottom: 5px;">
  <h1 style="margin-bottom: 18px; color: #fff; text-shadow: 0 2px 8px rgba(0,0,0,0.18); margin-top: 40px;">Equipment King Incorporated</h1>
      <p style="margin-bottom: 0; color: #fff; text-shadow: 0 2px 8px rgba(0,0,0,0.18); font-size: 1.15rem;">Experience cutting-edge engineering with Equipment King Incorporated in partnership with SAGMOTO.</p>
      <button class="primary hero-main-btn hero-main-btn-mobile" onclick="window.location.href='trucks.html'" style="margin-top: 24px; width: 100%; white-space: nowrap; display: none;">Explore Trucks</button>
    </div>
    <div style="flex:1; display: flex; justify-content: flex-end; align-items: flex-end;">
      <button class="primary hero-main-btn hero-main-btn-desktop" onclick="window.location.href='trucks.html'" style="margin-bottom: 8px; margin-left: 12px; white-space: nowrap;">Explore Trucks</button>
    </div>
  </div>
</section>

<section class="tabs" style="max-width: 100%;">
  <h1 style="padding-bottom: 30px;">Explore Our Vehicle Categories</h1>
  <div id="vehicleTabs">
  <button class="tab-btn" data-type="light">Light Duty Truck</button>
  <button class="tab-btn active" data-type="medium">Medium Duty Truck</button>
  <button class="tab-btn" data-type="heavy">Heavy Duty Truck</button>
  <button class="tab-btn" data-type="special">Special Vehicle</button>
  <button class="tab-btn" data-type="offroad">Off-road Truck</button>
  <button class="tab-btn" data-type="newenergy">New Energy</button>
  </div>
  <div id="tabContent">
    <p style="grid-column:1/-1;text-align:center;font-size:18px;color:#666;">Hover over a category to explore vehicle details.</p>
  </div>
</section>

<section class="gallery">
  <!-- Gallery Content -->
  <div class="gallery-content" id="galleryContent">
    <div style="position:relative;display:inline-block;width:100%;margin-bottom:18px;">
      <h2 style="position:relative;z-index:2;background:none;"><span style="background:none;text-decoration:none;">Explore Our Latest Fleet</span></h2>
    </div>
    <div class="gallery-grid">
      <div class="gallery-card" onclick="window.location.href='trucks_html/E1st-Tractor.html'"><img src="assets/tractor.webp"><span>Tractor</span></div>
      <div class="gallery-card" onclick="window.location.href='trucks.html#light-duty'"><img src="assets/dumpTruck.webp"><span>Dump Truck</span></div>
      <div class="gallery-card" onclick="window.location.href='trucks_html/X9-Aerial-Work-Platform-Truck.html'"><img src="assets/special.webp"><span>Special Vehicle</span></div>
      <div class="gallery-card" onclick="window.location.href='trucks_html/i9-New-Energy-Truck.html'"><img src="assets/i9.webp"><span>New Energy</span></div>
      <div class="gallery-card" onclick="window.location.href='trucks.html#x9-series'"><img src="assets/offroad.webp"><span>Off-Road Truck</span></div>
      <div class="gallery-card" onclick="window.location.href='trucks.html#medium-duty'"><img src="assets/cargo.webp"><span>Cargo Truck</span></div>
    </div>
    <div style="text-align:center;margin-top:70px;">
      <button class="primary" onclick="window.location.href='trucks.html'">Explore All Trucks</button>

</div>
  </div>
</section>

<script>

/* ================= TAB CONTENT ================= */
const tabData = {
  en: {
    light:[
      {img:'assets/E( Van truck.webp',name:'E9 Van Truck',features:['Modern van truck with car-like display and advanced cabin comfort. Features a hydraulic power braking system and tight turning diameter for efficient city deliveries.'],link:'trucks_html/E9-Van-Truck.html'},
      {img:'assets/E9 Dump Truck.webp',name:'E9 Dump Truck',features:['Heavy-duty dump truck with high-strength H-type steel frame and reinforced tyres. Designed for demanding construction tasks with a comfortable wrap-around seat for operator comfort.'],link:'trucks_html/E9-Dump-Truck.html'},
      {img:'assets/X9 tow.webp',name:'X9 Tow Truck',features:['Professional heavy-duty towing solution with advanced recovery capabilities. Features a powerful winch system, stabilizing outriggers, and robust chassis design for safe vehicle recovery operations.'],link:'trucks_html/X9-Tow-Truck.html'},
      {img:'assets/X9 4x4.webp',name:'X9 4X4',features:['Rugged 4x4 dump truck engineered for off-road and tough job sites. Delivers superior traction, reinforced suspension, and a durable steel dump body for reliable material transport.'],link:'trucks_html/X9-4X4-Dump-Truck.html'}
    ],
    medium:[
      {img:'assets/dump.webp',name:'E6 Dump Truck',features:['Medium-duty dump truck with large torque engine and high water tank clearance. Features a wheel-side reduction rear axle for enhanced load capacity and stability.'],link:'trucks_html/E6-Dump-Truck.html'},
      {img:'assets/van.webp',name:'E6 Van Truck',features:['Efficient van truck equipped with oil-water separator system, advanced air processing APU module, and a light steering system for smooth handling.'],link:'trucks_html/E6-Van-Truck.html'},
      {img:'assets/drop.webp',name:'X6 Dropside Truck',features:['Versatile dropside truck with oil-water separator system, air processing APU module, and light steering system for easy maneuverability and reliable performance.'],link:'trucks_html/X6-Dropside-Truck.html'},
      {img:'assets/awd.webp',name:'X6 AWD Cargo Truck',features:['All-wheel drive cargo truck designed for challenging terrains. Features oil-water separator system, air processing APU module, and a light steering system for optimal control.'],link:'trucks_html/X6-AWD-Cargo-Truck.html'}
    ],
    heavy:[
      {img:'assets/e1st.webp',name:'E1st Tractor',features:['Premium tractor truck powered by Cummins engine and Eaton gearbox. Features an intelligent comfort cab design for a superior driving experience.'],link:'trucks_html/E1st-Tractor.html'},
      {img:'assets/z3t.webp',name:'Z3 Tractor Truck',features:['Heavy-duty tractor truck with dual warning system, efficient power chain, and a comfortable berth width of 850mm for long-haul operations.'],link:'trucks_html/Z3-Dump-Truck.html'},
      {img:'assets/e3t.webp',name:'E3 Van Truck',features:['Commercial van truck with dual warning system, efficient power chain, and spacious berth for driver comfort and safety.'],link:'trucks_html/E3-Van-Truck.html'},
      {img:'assets/e3.webp',name:'E3 Tractor Truck',features:['Reliable tractor truck featuring dual warning system, efficient power chain, and a comfortable berth width of 850mm for extended journeys.'],link:'trucks_html/E3-Tractor-Truck.html'}
    ],
    special:[
      {img:'assets/x9t.webp',name:'X9 Tow Truck',features:['Professional heavy-duty towing solution with advanced recovery capabilities. Features a powerful winch system, stabilizing outriggers, and robust chassis design for safe vehicle recovery operations.'],link:'trucks_html/X9-Tow-Truck.html'},
      {img:'assets/x7c.webp',name:'X7 Concrete mixer Truck',features:['High-capacity concrete mixer truck with oil-water separator system, advanced air processing APU module, and light steering system for precise operation.'],link:'trucks_html/X7-Concrete-Mixer-Truck.html'},
      {img:'assets/e6t.webp',name:'E6 Truck-mounted Crane',features:['Truck-mounted crane equipped with oil-water separator system, air processing APU module, and light steering system for safe and efficient lifting operations.'],link:'trucks_html/E6-Truck-Mounted-Crane.html'}
    ],
    offroad:[
      {img:'assets/9.webp',name:'9 Series',features:['Heavy-duty truck series built for durability, high performance, and exceptional load-bearing capacity. Offers multiple cab options and is adaptable for all tanker applications.'],link:'trucks.html#9-series'},
      {img:'assets/7.webp',name:'7 Series',features:['Versatile truck series with a powerful engine, excellent maneuverability, reinforced oil pan protection, and double-layer frame design for enhanced safety.'],link:'trucks.html#x7-series'},
      {img:'assets/6.webp',name:'6 Series',features:['Efficient transport truck series with strong power, reinforced design featuring an iron bumper, and a customized upper-body for various commercial needs.'],link:'trucks.html#6-series'},
      {img:'assets/off.webp',name:'Off-road Dump Truck',features:['Specialized off-road dump truck with an 850mm wide chassis for stability, mining suspension, and directional exhaust design for demanding environments.'],link:'trucks_html/X9-4X4-Dump-Truck.html'}
    ],
    newenergy:[
      {img:'assets/i9.webp',name:'i9 New Energy Truck',features:['Innovative new energy truck with integrated electric drive axle for maximum efficiency. Delivers a 430km working range, 120kW fast charging, and brake energy recovery to reduce consumption by 15%.'],link:'trucks_html/i9-New-Energy-Truck.html'}
    ]
  },
  fr: {
    light:[
      {img:'assets/E( Van truck.webp',name:'E9 Van Truck',features:["Fourgon moderne avec affichage type automobile et confort de cabine avancé. Système de freinage hydraulique et rayon de braquage serré pour des livraisons urbaines efficaces."],link:'trucks_html/E9-Van-Truck.html'},
      {img:'assets/E9 Dump Truck.webp',name:'E9 Dump Truck',features:["Benne robuste avec châssis en acier H haute résistance et pneus renforcés. Conçue pour les chantiers exigeants avec un siège enveloppant confortable pour l'opérateur."],link:'trucks_html/E9-Dump-Truck.html'},
      {img:'assets/X9 tow.webp',name:'X9 Tow Truck',features:["Solution professionnelle de remorquage lourd avec capacités avancées de récupération. Treuil puissant, stabilisateurs et châssis robuste pour des opérations de dépannage en toute sécurité."],link:'trucks_html/X9-Tow-Truck.html'},
      {img:'assets/X9 4x4.webp',name:'X9 4X4',features:["Benne 4x4 robuste conçue pour les chantiers difficiles et hors route. Traction supérieure, suspension renforcée et caisse en acier durable pour un transport fiable des matériaux."],link:'trucks_html/X9-4X4-Dump-Truck.html'}
    ],
    medium:[
      {img:'assets/dump.webp',name:'E6 Dump Truck',features:["Benne de capacité moyenne avec moteur à fort couple et grande garde au sol. Essieu à réduction latérale pour une capacité de charge et une stabilité accrues."],link:'trucks_html/E6-Dump-Truck.html'},
      {img:'assets/van.webp',name:'E6 Van Truck',features:["Fourgon efficace équipé d'un séparateur huile-eau, module APU de traitement d'air avancé et direction assistée pour une conduite souple."],link:'trucks_html/E6-Van-Truck.html'},
      {img:'assets/drop.webp',name:'X6 Dropside Truck',features:["Camion plateau polyvalent avec séparateur huile-eau, module APU et direction assistée pour une maniabilité et une fiabilité optimales."],link:'trucks_html/X6-Dropside-Truck.html'},
      {img:'assets/awd.webp',name:'X6 AWD Cargo Truck',features:["Camion cargo à transmission intégrale conçu pour les terrains difficiles. Système huile-eau, module APU et direction assistée pour un contrôle optimal."],link:'trucks_html/X6-AWD-Cargo-Truck.html'}
    ],
    heavy:[
      {img:'assets/e1st.webp',name:'E1st Tractor',features:["Tracteur haut de gamme avec moteur Cummins et boîte Eaton. Cabine intelligente et confortable pour une expérience de conduite supérieure."],link:'trucks_html/E1st-Tractor.html'},
      {img:'assets/z3t.webp',name:'Z3 Tractor Truck',features:["Tracteur robuste avec double système d'alerte, chaîne cinématique efficace et couchette confortable de 850mm pour les longs trajets."],link:'trucks_html/Z3-Dump-Truck.html'},
      {img:'assets/e3t.webp',name:'E3 Van Truck',features:["Fourgon commercial avec double système d'alerte, chaîne cinématique efficace et couchette spacieuse pour le confort et la sécurité du conducteur."],link:'trucks_html/E3-Van-Truck.html'},
      {img:'assets/e3.webp',name:'E3 Tractor Truck',features:["Tracteur fiable avec double système d'alerte, chaîne cinématique efficace et couchette confortable de 850mm pour les longs trajets."],link:'trucks_html/E3-Tractor-Truck.html'}
    ],
    special:[
      {img:'assets/x9t.webp',name:'X9 Tow Truck',features:["Solution professionnelle de remorquage lourd avec capacités avancées de récupération. Treuil puissant, stabilisateurs et châssis robuste pour des opérations de dépannage en toute sécurité."],link:'trucks_html/X9-Tow-Truck.html'},
      {img:'assets/x7c.webp',name:'X7 Concrete mixer Truck',features:["Malaxeur à béton grande capacité avec séparateur huile-eau, module APU avancé et direction assistée pour un dosage précis."],link:'trucks_html/X7-Concrete-Mixer-Truck.html'},
      {img:'assets/e6t.webp',name:'E6 Truck-mounted Crane',features:["Grue sur camion équipée d'un séparateur huile-eau, module APU et direction assistée pour des opérations de levage sûres et efficaces."],link:'trucks_html/E6-Truck-Mounted-Crane.html'}
    ],
    offroad:[
      {img:'assets/9.webp',name:'9 Series',features:["Série poids lourd conçue pour la durabilité, la performance et une capacité de charge exceptionnelle. Plusieurs cabines disponibles, adaptable à tous les usages de citerne."],link:'trucks.html#9-series'},
      {img:'assets/7.webp',name:'7 Series',features:["Série polyvalente avec moteur puissant, excellente maniabilité, protection renforcée du carter et châssis double couche pour plus de sécurité."],link:'trucks.html#x7-series'},
      {img:'assets/6.webp',name:'6 Series',features:["Série de transport efficace avec puissance élevée, design renforcé avec pare-chocs en fer et carrosserie personnalisée pour divers besoins commerciaux."],link:'trucks.html#6-series'},
      {img:'assets/off.webp',name:'Off-road Dump Truck',features:["Benne tout-terrain spécialisée avec châssis large de 850mm pour la stabilité, suspension minière et échappement directionnel pour les environnements exigeants."],link:'trucks_html/X9-4X4-Dump-Truck.html'}
    ],
    newenergy:[
      {img:'assets/i9.webp',name:'i9 New Energy Truck',features:["Camion nouvelle énergie innovant avec essieu moteur électrique intégré pour une efficacité maximale. Autonomie de 430km, charge rapide 120kW et récupération d'énergie au freinage réduisant la consommation de 15%."],link:'trucks_html/i9-New-Energy-Truck.html'}
    ]
  }
};

const tabButtons = document.querySelectorAll('.tab-btn');
const tabContent = document.getElementById('tabContent');

function showTab(type, btn){
  tabButtons.forEach(b => b.classList.remove('active'));
  if(btn) btn.classList.add('active'); 
  tabContent.style.opacity = 0;
  setTimeout(() => {
    const lang = window.currentLang || 'en';
    tabContent.innerHTML = tabData[lang][type].map((item, index)=>`
      <a href='${item.link}' class='vehicle-card' style='cursor:pointer; text-decoration: none; color: inherit; display: block; position: relative; z-index: 1;'>
        <img src='${item.img}' alt='${item.name}'>
        <div style='padding:22px 24px;text-align:left;'>
          <h3>${item.name}</h3>
          <ul>${item.features.map(f=>`<li>• ${f}</li>`).join('')}</ul>
        </div>
      </a>
    `).join('');
    // Add explicit click handlers to ensure navigation works
    const cards = tabContent.querySelectorAll('.vehicle-card');
    cards.forEach(card => {
      const link = card.getAttribute('href');
      if (link) {
        card.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          window.location.href = link;
        });
      }
    });
    // Add class if there's only one card
    if (cards.length === 1) {
      tabContent.classList.add('single-card');
    } else {
      tabContent.classList.remove('single-card');
    }
    tabContent.style.opacity = 1;
  }, 200);
}

// Medium Duty default
window.addEventListener('DOMContentLoaded', ()=>{
  const defaultTab = document.querySelector('.tab-btn.active');
  showTab(defaultTab.dataset.type, defaultTab);
  // Listen for language toggle and update tab content
  document.getElementById('lang-toggle-btn')?.addEventListener('click', () => {
    setTimeout(() => {
      const activeTab = document.querySelector('.tab-btn.active');
      showTab(activeTab.dataset.type, activeTab);
    }, 100);
  });
});

// Enhanced hover tabs with extended area
const tabsSection = document.querySelector('section.tabs');
let currentHoverType = null;
let isHoveringTabs = false;

// Track hovering over the entire tabs section (including 40px padding)
tabsSection.addEventListener('mouseenter', () => {
  isHoveringTabs = true;
});

tabsSection.addEventListener('mouseleave', () => {
  isHoveringTabs = false;
  // Return to active tab when leaving the extended area
  setTimeout(() => {
    if (!isHoveringTabs) {
      const activeTab = document.querySelector('.tab-btn.active');
      currentHoverType = null;
      showTab(activeTab.dataset.type, activeTab);
    }
  }, 100); // Small delay to prevent flickering
});

// Individual tab hover behavior
tabButtons.forEach(btn => {
  btn.addEventListener('mouseenter', () => {
    const newType = btn.dataset.type;
    if (!btn.classList.contains('active') && currentHoverType !== newType) {
      currentHoverType = newType;
      showTab(newType, null);
    }
  });
  
  // Remove individual mouseleave - let the section handle it
  btn.addEventListener('click', () => {
    // Make clicked tab the new active tab
    tabButtons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    currentHoverType = null;
    showTab(btn.dataset.type, btn);
  });
});

// Keep content visible when hovering over tab content area
tabContent.addEventListener('mouseenter', () => {
  isHoveringTabs = true;
});

tabContent.addEventListener('mouseleave', () => {
  // Don't immediately hide - let the section mouseleave handle it
});

/* ================= GALLERY SECTION ================= */
// Gallery is now using simple static display without animations
</script>
</section>

<!-- Begin: Scrolling Image Strip with Modal Gallery -->
<div class="scrolling-image-strip-wrapper">
  <div class="scrolling-image-strip" id="scrollingImageStrip"></div>
  <div class="strip-progress-container">
    <div class="strip-progress-bar" id="stripProgress"></div>
  </div>
</div>
<div class="image-modal" id="imageModal">
  <span class="close-modal" id="closeModal">&times;</span>
  <button id="prevImg" class="modal-nav-btn">&#8592;</button>
  <img id="modalImg" src="" alt="Gallery Image" />
  <button id="nextImg" class="modal-nav-btn">&#8594;</button>
</div>
<!-- End: Scrolling Image Strip with Modal Gallery -->

<script>
// --- Scrolling Image Strip and Modal Gallery ---
const imageList = [
  'assets/z3t.webp', 'assets/x9a.webp', 'assets/X9 4x4.webp',
  'assets/x7flatbed.webp', 'assets/x7c.webp', 'assets/van.webp', 'assets/tractor.webp', 'assets/special.webp', 'assets/offroad.webp',
  'assets/off.webp', 'assets/i9.webp', 'assets/e9staketruck.webp', 'assets/E9 Dump Truck.webp', 'assets/e6t.webp', 'assets/e3t.webp',
  'assets/e3.webp', 'assets/E3 Tractor Truck.webp', 'assets/e1st.webp', 'assets/E( Van truck.webp', 'assets/dumpTruck.webp',
  'assets/dump.webp', 'assets/drop.webp', 'assets/cargo.webp', 'assets/back2.webp', 'assets/back.webp',
  'assets/awd.webp', 'assets/9.webp', 'assets/7.webp', 'assets/6.webp', 'assets/3 series cement.webp'
];
const strip = document.getElementById('scrollingImageStrip');
const progress = document.getElementById('stripProgress');
const modal = document.getElementById('imageModal');
const modalImg = document.getElementById('modalImg');
const closeModal = document.getElementById('closeModal');
const prevImg = document.getElementById('prevImg');
const nextImg = document.getElementById('nextImg');
let currentImgIdx = 0;

// Populate strip
imageList.forEach((src, idx) => {
  const img = document.createElement('img');
  img.src = src;
  img.alt = `Gallery Image ${idx+1}`;
  img.className = 'strip-img';
  img.addEventListener('click', () => openModal(idx));
  strip.appendChild(img);
});

// Scroll event for progress bar
strip.addEventListener('scroll', () => {
  const maxScroll = strip.scrollWidth - strip.clientWidth;
  const percent = maxScroll ? (strip.scrollLeft / maxScroll) : 0;
  progress.style.width = `${percent * 100}%`;
});

// Modal logic
function openModal(idx) {
  currentImgIdx = idx;
  modalImg.src = imageList[idx];
  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
}
function closeModalFn() {
  modal.style.display = 'none';
  document.body.style.overflow = '';
}
function showImg(idx) {
  if (idx < 0) idx = imageList.length - 1;
  if (idx >= imageList.length) idx = 0;
  currentImgIdx = idx;
  modalImg.src = imageList[idx];
}
closeModal.onclick = closeModalFn;
modal.onclick = (e) => { if (e.target === modal) closeModalFn(); };
prevImg.onclick = () => showImg(currentImgIdx - 1);
nextImg.onclick = () => showImg(currentImgIdx + 1);
document.addEventListener('keydown', (e) => {
  if (modal.style.display === 'flex') {
    if (e.key === 'ArrowLeft') showImg(currentImgIdx - 1);
    if (e.key === 'ArrowRight') showImg(currentImgIdx + 1);
    if (e.key === 'Escape') closeModalFn();
  }
});
</script>

<style>
/* Scrolling Image Strip Styles */
.scrolling-image-strip-wrapper {
  margin: 60px 0 0 0;
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  padding: 0 0 32px 0;
}
.scrolling-image-strip {
  display: flex;
  overflow-x: auto;
  gap: 18px;
  padding: 18px 0 12px 0;
  background: rgba(255,255,255,0.13);
  border-radius: 0;
  border: 1.5px solid rgba(255,255,255,0.22);
  box-shadow: 0 8px 32px 0 rgba(31,38,135,0.13);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  scrollbar-width: thin;
  scrollbar-color: #fff rgba(255,255,255,0.13);
  transition: box-shadow 0.3s;
  width: 100vw;
}
.scrolling-image-strip:hover {
  box-shadow: 0 12px 40px 0 rgba(31,38,135,0.18);
}
.strip-img {
  height: 110px;
  min-width: 180px;
  object-fit: cover;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.25s, box-shadow 0.25s;
  box-shadow: 0 2px 8px rgba(0,0,0,0.10);
  border: 1.5px solid rgba(255,255,255,0.18);
}
.strip-img:hover {
  transform: scale(1.08) translateY(-6px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.18);
  border-color: #fff;
}
.strip-progress-container {
  width: 100vw;
  height: 5px;
  background: rgba(255,255,255,0.10);
  border-radius: 3px;
  margin: 0 auto;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  overflow: hidden;
}
.strip-progress-bar {
  height: 100%;
  background: linear-gradient(90deg, #fff 0%, #b3c6ff 100%);
  width: 0%;
  border-radius: 3px;
  transition: width 0.3s;
}
.image-modal {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.88);
  z-index: 9999;
  align-items: center;
  justify-content: center;
  flex-direction: row;
  transition: opacity 0.3s;
}
.image-modal img {
  max-width: 90vw;
  max-height: 80vh;
  border-radius: 18px;
  box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18);
  background: #fff;
}
.close-modal {
  position: absolute;
  top: 32px;
  right: 48px;
  font-size: 2.5rem;
  color: #fff;
  cursor: pointer;
  z-index: 10001;
  text-shadow: 0 2px 8px rgba(0,0,0,0.18);
  transition: color 0.2s;
}
.close-modal:hover {
  color: #b3c6ff;
}
.modal-nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.5);
  color: #fff;
  border: none;
  font-size: 2.2rem;
  cursor: pointer;
  padding: 10px 18px;
  border-radius: 50%;
  z-index: 10001;
  transition: background 0.3s;
}
#prevImg { left: 32px; }
#nextImg { right: 32px; }
.modal-nav-btn:hover { background: rgba(0,0,0,0.8); }
</style>